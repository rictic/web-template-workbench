import{getTemplateHtml as t,boundAttributeSuffix as s,marker as i,rawTextElement as e,markerMatch as o}from"./get-template-html.js";import{templateFromLiterals as h}from"./template-from-literals.js";import{SVG_RESULT as n}from"./ttl.js";
/**
 * @license
 * Copyright 2023 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const r=document,c=()=>r.createComment(""),l=t=>null===t||"object"!=typeof t&&"function"!=typeof t,a=Array.isArray,d=t=>a(t)||"function"==typeof t?.[Symbol.iterator],f=new WeakMap,m=new WeakMap,u=r.createTreeWalker(r,129);class p{constructor({strings:h,_$litType$:r},l){let a;this.parts=[],console.log("creating a manual template");let d=0,f=0;const m=h.length-1,g=this.parts,[_,y]=t(h,r);if(this.el=p.createElement(_,l),u.currentNode=this.el.content,r===n){const t=this.el.content.firstChild;t.replaceWith(...t.childNodes)}for(;null!==(a=u.nextNode())&&g.length<m;){if(1===a.nodeType){if(a.hasAttributes())for(const t of a.getAttributeNames())if(t.endsWith(s)){const s=y[f++],e=a.getAttribute(t).split(i),o=/([.?@])?(.*)/.exec(s);g.push({type:1,index:d,name:o[2],strings:e,ctor:w}),a.removeAttribute(t)}else t.startsWith(i)&&(g.push({type:6,index:d}),a.removeAttribute(t));if(e.test(a.tagName)){const t=a.textContent.split(i),s=t.length-1;if(s>0){a.textContent=window.trustedTypes?window.trustedTypes.emptyScript:"";for(let i=0;i<s;i++)a.append(t[i],c()),u.nextNode(),g.push({type:2,index:++d});a.append(t[s],c())}}}else if(8===a.nodeType)if(a.data===o)g.push({type:2,index:d});else{let t=-1;for(;-1!==(t=a.data.indexOf(i,t+1));)g.push({type:7,index:d}),t+=i.length-1}d++}}static createElement(t,s){const i=r.createElement("template");return i.innerHTML=t,i}}class g{constructor(t,s){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=s}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}t(t){const{el:{content:s},parts:i}=this._$AD,e=(t?.creationScope??r).importNode(s,!0);u.currentNode=e;let o=u.nextNode(),h=0,n=0,c=i[0];for(;void 0!==c;){if(h===c.index){let s;2===c.type?s=new v(o,o.nextSibling,this,t):1===c.type&&(s=new c.ctor(o,c.name,c.strings,this,t)),this._$AV.push(s),c=i[++n]}h!==c?.index&&(o=u.nextNode(),h++)}return u.currentNode=r,e}}class _{constructor({strings:t,_$litType$:s},i){if(this.parts=[],console.log("creating a DOM Parts template"),this.el=h(t,s,!0),s===n){const t=this.el.content.firstChild;t.replaceWith(...t.childNodes)}const e=this.el.content.getPartRoot().getParts();let o=-1;for(const t of e)if(o++,t instanceof NodePart){let s;for(let i=0;i<t.metadata.length;i++){const e=t.metadata[i];"d"===e?(void 0!==s&&(this.parts.push(s),s=void 0),this.parts.push({type:6,index:o})):"attr"===e?(void 0!==s&&this.parts.push(s),s={type:1,index:o,name:t.metadata[++i],ctor:w,strings:[]}):'"'===e[0]&&s.strings.push(JSON.parse(e))}void 0!==s&&this.parts.push(s)}else t instanceof ChildNodePart&&this.parts.push({type:2,index:o})}}class y{constructor(t,s){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=s}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}t(t){const{el:{content:s},parts:i}=this._$AD,e=s.getPartRoot().clone(),o=e.getParts(),h=document.adoptNode(e.rootContainer);for(const s of i){const i=o[s.index];switch(s.type){case 2:this._$AV.push(new v(i.previousSibling,i.nextSibling,this,t));break;case 1:this._$AV.push(new s.ctor(i.node,s.name,s.strings,this,t))}}return h}}class v{get _$AU(){return this._$AM?._$AU??this._$Ci}constructor(t,s,i,e){this.type=2,this._$AH="",this._$AN=void 0,this._$AA=t,this._$AB=s,this._$AM=i,this.options=e,this._$Ci=e?.isConnected??!0}get parentNode(){let t=this._$AA.parentNode;const s=this._$AM;return void 0!==s&&11===t?.nodeType&&(t=s.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t){l(t)?null==t||""===t?(this._$AR(),this._$AH=""):t!==this._$AH&&this.o(t):void 0!==t._$litType$?this.l(t):void 0!==t.nodeType?this.h(t):d(t)?this.u(t):this.o(t)}m(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}h(t){this._$AH!==t&&(this._$AR(),this._$AH=this.m(t))}o(t){l(this._$AH)?this._$AA.nextSibling.data=t:this.h(r.createTextNode(t)),this._$AH=t}l(t){const s=this._$AC(t);this._$AH?._$AD===s||new(this.options?.useDomParts?y:g)(s,this).t(this.options)}_$AC(t){const s=this.options.useDomParts?m:f;let i=s.get(t.strings);if(void 0===i){const e=this.options.useDomParts?_:p;s.set(t.strings,i=new e(t))}return i}u(t){a(this._$AH)||(this._$AH=[],this._$AR());const s=this._$AH;let i,e=0;for(const o of t)e===s.length?s.push(i=new v(this.m(c()),this.m(c()),this,this.options)):i=s[e],i._$AI(o),e++;e<s.length&&(this._$AR(i&&i._$AB.nextSibling,e),s.length=e)}_$AR(t=this._$AA.nextSibling,s){for(this._$AP?.(!1,!0,s);t&&t!==this._$AB;){const s=t.nextSibling;t.remove(),t=s}}setConnected(t){void 0===this._$AM&&(this._$Ci=t,this._$AP?.(t))}}class w{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(t,s,i,e,o){this.type=1,this._$AH=[],this._$AN=void 0,this.element=t,this.name=s,this._$AM=e,this.options=o,i.length>2||""!==i[0]||""!==i[1]?(this._$AH=Array(i.length-1).fill(new String),this.strings=i):this._$AH=""}_$AI(t,s,i){const e=this.strings;let o=!1;if(void 0===e)o=!l(t)||t!==this._$AH,o&&(this._$AH=t);else{const i=t;let h,n;for(t=e[0],h=0;h<e.length-1;h++)n=i[s+h],o||=!l(n)||n!==this._$AH[h],t+=(n??"")+e[h+1],this._$AH[h]=n}o&&!i&&this.p(t)}p(t){this.element.setAttribute(this.name,t??"")}}export{w as AttributePart,v as ChildPart,d as isIterable};
//# sourceMappingURL=template.js.map
