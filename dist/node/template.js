import{trustFromTemplateString as t,getTemplateHtml as s,boundAttributeSuffix as i,marker as e,rawTextElement as h,markerMatch as o}from"./get-template-html.js";import{templateFromLiterals as n}from"./template-from-literals.js";import{SVG_RESULT as r}from"./ttl.js";
/**
 * @license
 * Copyright 2023 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const c=void 0===globalThis.document?{createTreeWalker:()=>({})}:document,l=()=>c.createComment(""),a=t=>null===t||"object"!=typeof t&&"function"!=typeof t,d=Array.isArray,u=t=>d(t)||"function"==typeof t?.[Symbol.iterator],f=Symbol.for("lit-noChange"),m=Symbol.for("lit-nothing"),p=new WeakMap,v=new WeakMap,_=c.createTreeWalker(c,129);function g(t,s,i=t,e){if(s===f)return s;let h=void 0!==e?i._$Ct?.[e]:i._$Ci;const o=a(s)?void 0:s._$litDirective$;return h?.constructor!==o&&(h?._$AO?.(!1),void 0===o?h=void 0:(h=new o(t),h._$AT(t,i,e)),void 0!==e?(i._$Ct??=[])[e]=h:i._$Ci=h),void 0!==h&&(s=g(t,h._$AS(t,s.values),h,e)),s}class y{constructor({strings:t,_$litType$:n},c){let a;this.parts=[],console.log("creating a manual template");let d=0,u=0;const f=t.length-1,m=this.parts,[p,v]=s(t,n);if(this.el=y.createElement(p,c),_.currentNode=this.el.content,n===r){const t=this.el.content.firstChild;t.replaceWith(...t.childNodes)}for(;null!==(a=_.nextNode())&&m.length<f;){if(1===a.nodeType){if(a.hasAttributes())for(const t of a.getAttributeNames())if(t.endsWith(i)){const s=v[u++],i=a.getAttribute(t).split(e),h=/([.?@])?(.*)/.exec(s);m.push({type:1,index:d,name:h[2],strings:i,ctor:"."===h[1]?C:"?"===h[1]?T:"@"===h[1]?V:b}),a.removeAttribute(t)}else t.startsWith(e)&&(m.push({type:6,index:d}),a.removeAttribute(t));if(h.test(a.tagName)){const t=a.textContent.split(e),s=t.length-1;if(s>0){a.textContent=window.trustedTypes?window.trustedTypes.emptyScript:"";for(let i=0;i<s;i++)a.append(t[i],l()),_.nextNode(),m.push({type:2,index:++d});a.append(t[s],l())}}}else if(8===a.nodeType)if(a.data===o)m.push({type:2,index:d});else{let t=-1;for(;-1!==(t=a.data.indexOf(e,t+1));)m.push({type:7,index:d}),t+=e.length-1}d++}}static createElement(t,s){const i=c.createElement("template");return i.innerHTML=t,i}}class w{constructor(t,s){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=s}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}o(t){const{el:{content:s},parts:i}=this._$AD,e=(t?.creationScope??c).importNode(s,!0);_.currentNode=e;let h=_.nextNode(),o=0,n=0,r=i[0];for(;void 0!==r;){if(o===r.index){let s;2===r.type?s=new N(h,h.nextSibling,this,t):1===r.type?s=new r.ctor(h,r.name,r.strings,this,t):6===r.type&&(s=new k(h,this,t)),this._$AV.push(s),r=i[++n]}o!==r?.index&&(h=_.nextNode(),o++)}return _.currentNode=c,e}l(t){let s=0;for(const i of this._$AV)void 0!==i&&(void 0!==i.strings?(i._$AI(t,i,s),s+=i.strings.length-2):i._$AI(t[s])),s++}}class ${constructor({strings:t,_$litType$:s},i){if(this.parts=[],console.log("creating a DOM Parts template"),this.el=n(t,s,!0),s===r){const t=this.el.content.firstChild;t.replaceWith(...t.childNodes)}const e=this.el.content.getPartRoot().getParts();let h=-1;for(const t of e)if(h++,t instanceof NodePart){let s;for(let i=0;i<t.metadata.length;i++){const e=t.metadata[i];if("d"===e)void 0!==s&&(this.parts.push(s),s=void 0),this.parts.push({type:6,index:h});else if("attr"===e){void 0!==s&&this.parts.push(s);let e=t.metadata[++i],o=b;e.startsWith(".")?(o=C,e=e.slice(1)):e.startsWith("@")?(o=V,e=e.slice(1)):e.startsWith("?")&&(o=T,e=e.slice(1)),s={type:1,index:h,name:e,ctor:o,strings:[]}}else'"'===e[0]&&s.strings.push(JSON.parse(e))}void 0!==s&&this.parts.push(s)}else t instanceof ChildNodePart&&this.parts.push({type:2,index:h})}}class x{constructor(t,s){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=s}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}o(t){const{el:{content:s},parts:i}=this._$AD,e=s.getPartRoot().clone(),h=e.getParts(),o=document.adoptNode(e.rootContainer);for(const s of i){const i=h[s.index];switch(s.type){case 2:this._$AV.push(new N(i.previousSibling,i.nextSibling,this,t));break;case 6:this._$AV.push(new k(i.node,this,t));break;case 1:this._$AV.push(new s.ctor(i.node,s.name,s.strings,this,t))}}return o}l(t){let s=0;for(const i of this._$AV)void 0!==i&&(void 0!==i.strings?(i._$AI(t,i,s),s+=i.strings.length-2):i._$AI(t[s])),s++}}class N{get _$AU(){return this._$AM?._$AU??this._$Cu}constructor(t,s,i,e){this.type=2,this._$AH=m,this._$AN=void 0,this._$AA=t,this._$AB=s,this._$AM=i,this.options=e,this._$Cu=e?.isConnected??!0}get parentNode(){let t=this._$AA.parentNode;const s=this._$AM;return void 0!==s&&11===t?.nodeType&&(t=s.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,s=this){t=g(this,t,s),a(t)?t===m||null==t||""===t?(this._$AH!==m&&this._$AR(),this._$AH=m):t!==this._$AH&&t!==f&&this._(t):void 0!==t._$litType$?this.v(t):void 0!==t.nodeType?this.m(t):u(t)?this.g(t):this._(t)}$(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}m(t){this._$AH!==t&&(this._$AR(),this._$AH=this.$(t))}_(t){this._$AH!==m&&a(this._$AH)?this._$AA.nextSibling.data=t:this.m(c.createTextNode(t)),this._$AH=t}v(s){const{values:i,_$litType$:e}=s,h="number"==typeof e?this._$AC(s):(void 0===e.el&&(e.el=y.createElement(t(e.h,e.h[0]),this.options)),e);if(this._$AH?._$AD===h)this._$AH.l(i);else{const t=new(this.options?.useDomParts?x:w)(h,this),s=t.o(this.options);t.l(i),this.m(s),this._$AH=t}}_$AC(t){const s=this.options.useDomParts?v:p;let i=s.get(t.strings);if(void 0===i){const e=this.options.useDomParts?$:y;s.set(t.strings,i=new e(t))}return i}g(t){d(this._$AH)||(this._$AH=[],this._$AR());const s=this._$AH;let i,e=0;for(const h of t)e===s.length?s.push(i=new N(this.$(l()),this.$(l()),this,this.options)):i=s[e],i._$AI(h),e++;e<s.length&&(this._$AR(i&&i._$AB.nextSibling,e),s.length=e)}_$AR(t=this._$AA.nextSibling,s){for(this._$AP?.(!1,!0,s);t&&t!==this._$AB;){const s=t.nextSibling;t.remove(),t=s}}setConnected(t){void 0===this._$AM&&(this._$Cu=t,this._$AP?.(t))}}class b{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(t,s,i,e,h){this.type=1,this._$AH=m,this._$AN=void 0,this.element=t,this.name=s,this._$AM=e,this.options=h,i.length>2||""!==i[0]||""!==i[1]?(this._$AH=Array(i.length-1).fill(new String),this.strings=i):this._$AH=m}_$AI(t,s=this,i,e){const h=this.strings;let o=!1;if(void 0===h)t=g(this,t,s,0),o=!a(t)||t!==this._$AH&&t!==f,o&&(this._$AH=t);else{const e=t;let n,r;for(t=h[0],n=0;n<h.length-1;n++)r=g(this,e[i+n],s,n),r===f&&(r=this._$AH[n]),o||=!a(r)||r!==this._$AH[n],r===m?t=m:t!==m&&(t+=(r??"")+h[n+1]),this._$AH[n]=r}o&&!e&&this.T(t)}T(t){t===m?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t??"")}}class C extends b{constructor(){super(...arguments),this.type=3}T(t){this.element[this.name]=t===m?void 0:t}}class T extends b{constructor(){super(...arguments),this.type=4}T(t){this.element.toggleAttribute(this.name,!!t&&t!==m)}}class V extends b{constructor(t,s,i,e,h){super(t,s,i,e,h),this.type=5}_$AI(t,s=this){if((t=g(this,t,s,0)??m)===f)return;const i=this._$AH,e=t===m&&i!==m||t.capture!==i.capture||t.once!==i.once||t.passive!==i.passive,h=t!==m&&(i===m||e);e&&this.element.removeEventListener(this.name,this,i),h&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){"function"==typeof this._$AH?this._$AH.call(this.options?.host??this.element,t):this._$AH.handleEvent(t)}}class k{constructor(t,s,i){this.element=t,this.type=6,this._$AN=void 0,this._$AM=s,this.options=i}get _$AU(){return this._$AM._$AU}_$AI(t){g(this,t)}}export{b as AttributePart,T as BooleanAttributePart,N as ChildPart,k as ElementPart,V as EventPart,C as PropertyPart,u as isIterable,f as noChange,m as nothing,g as resolveDirective};
//# sourceMappingURL=template.js.map
